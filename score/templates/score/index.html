{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block content %}

{% csrf_token %}

<div id="confetti" class="confetti"></div>

<!-- Language Switcher -->
<div class="language-switcher">
    <div class="language-switcher-container">
        <a href="{% url 'score:set_language' %}?lang=pt-br"
           class="language-link {% if LANGUAGE_CODE == 'pt-br' %}active{% endif %}"
           title="Português"
           aria-label="{% trans 'Mudar para Português' %}">
            <img src="{% static 'img/br.png' %}" alt="PT" class="flag-icon">
        </a>
        <a href="{% url 'score:set_language' %}?lang=es"
           class="language-link {% if LANGUAGE_CODE == 'es' %}active{% endif %}"
           title="Español"
           aria-label="{% trans 'Mudar para Espanhol' %}">
            <img src="{% static 'img/es.png' %}" alt="ES" class="flag-icon">
        </a>
    </div>
</div>

<div class="container">
    <!-- Banner 728x90 ou Retângulo 300x250 -->
    <div class="ad-container ad-top">
        <div class="ad-content">
            <!-- truco_1 -->
            <ins class="adsbygoogle"
                style="display:block"
                data-ad-client="ca-pub-3587935859133897"
                data-ad-slot="9997940137"
                data-ad-format="auto"
                data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </div>

    <!-- Header -->
    <header class="game-header">
        <h1 class="game-title">TRUCO</h1>
        <p class="game-subtitle d-none">{% trans "Placar Digital" %}</p>
    </header>

    <!-- Score Grid -->
    <div class="row" style="gap: 2rem; margin-top: 2rem;">
        <!-- TIME A -->
        <div class="col-6 text-center">
            <div class="score-card team-a">
                <div class="score-icon">♣️</div>

                <div id="score-A" class="score-number">
                    {{ score_a }}
                </div>

                <div class="btn-group">
                    <button
                        class="btn btn-success"
                        onclick="alterarScore('A', 'inc')"
                        aria-label="{% trans 'Adicionar ponto ao Time A' %}"
                    >
                        +
                    </button>

                    <button
                        class="btn btn-danger"
                        onclick="alterarScore('A', 'dec')"
                        aria-label="{% trans 'Remover ponto do Time A' %}"
                    >
                        −
                    </button>
                </div>

                <div class="victories">
                    {% trans "Vitórias:" %} <span id="victory-A">{{ victory_a }}</span>
                </div>
            </div>
        </div>

        <!-- TIME B -->
        <div class="col-6 text-center">
            <div class="score-card team-b">
                <div class="score-icon">♥️</div>

                <div id="score-B" class="score-number">
                    {{ score_b }}
                </div>

                <div class="btn-group">
                    <button
                        class="btn btn-success"
                        onclick="alterarScore('B', 'inc')"
                        aria-label="{% trans 'Adicionar ponto ao Time B' %}"
                    >
                        +
                    </button>

                    <button
                        class="btn btn-danger"
                        onclick="alterarScore('B', 'dec')"
                        aria-label="{% trans 'Remover ponto do Time B' %}"
                    >
                        −
                    </button>
                </div>

                <div class="victories">
                    {% trans "Vitórias:" %} <span id="victory-B">{{ victory_b }}</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Área de Anúncio - Meio -->
    <div class="ad-container ad-middle d-none">
        <div class="ad-content">
            <!-- Banner 728x90 ou Retângulo 300x250 -->

        </div>
    </div>

    <!-- Reset Button -->
    <div class="reset-section">
        <button
            class="btn btn-primary btn-reset"
            id="btn-reset"
            aria-label="{% trans 'Resetar placar' %}"
        >
            {% trans "Resetar Placar" %}
        </button>
    </div>

    <!-- Área de Anúncio - Rodapé -->
    <div class="ad-container ad-footer">
        <div class="ad-label">{% trans "Publicidade" %}</div>
        <!-- Google AdSense - Banner Rodapé -->
        <div class="ad-content">
            <!-- Recomendado: Banner 728x90 (Desktop) ou 320x100 (Mobile) -->
            
            <!-- truco_2 -->
            <ins class="adsbygoogle"
                style="display:block"
                data-ad-client="ca-pub-3587935859133897"
                data-ad-slot="1294627063"
                data-ad-format="auto"
                data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="site-footer d-none">
    <p>{% trans "Placar de Truco DMS Sistemas" %} &copy; 2026</p>
</footer>

<script>
    window.STATUS_PLACAR_URL = "{% url 'score:status' %}";
    window.ALTERAR_PONTUACAO_URL = "{% url 'score:change' %}";
    window.RESETAR_PLACAR_URL = "{% url 'score:reset' %}";
</script>

<script src="{% static 'js/main.js' %}"></script>
<script src="{% static 'js/victory.js' %}"></script>

{% endblock %}



